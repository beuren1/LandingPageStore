@use './variables' as v;
@use './utils' as u;

/* =================== COMPENSA HEADER FIXO =================== */
body {
  padding-top: 90px; /* antes 110px */
}

/* =================== HEADER BASE =================== */
.site-header {
  position: fixed;
  inset: 0 0 auto 0;
  z-index: 1000;
  background: rgba(0, 0, 0, 0.75);
  backdrop-filter: blur(10px);
  /* ðŸ’› sombra dourada sutil */
  box-shadow: 0 2px 10px rgba(255, 215, 0, 0.22), 0 1px 8px rgba(0, 0, 0, 0.45);
  transition: background 0.3s ease, padding 0.3s ease, opacity 0.8s ease, transform 0.8s ease;

  /* fade-in suave */
  opacity: 0;
  transform: translateY(-10px);
  animation: headerFade 0.9s ease forwards 0.15s;

  padding: 6px 50px; /* reduzido */
  display: flex;
  align-items: center;
}

.site-header.scrolled {
  background: rgba(0, 0, 0, 0.92);
  padding: 4px 40px;
  box-shadow: 0 2px 10px rgba(255, 215, 0, 0.18);
}

@keyframes headerFade {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* =================== CONTAINER =================== */
.header__wrap {
  @include u.container;
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
}

/* =================== LOGO (com brilho pulsante) =================== */
.header__logo {
  position: relative;
  display: flex;
  align-items: center;
  padding-left: 2px;

  &::before {
    content: '';
    position: absolute;
    left: -4px;
    top: 50%;
    transform: translateY(-50%);
    width: 120px; /* menor */
    height: 120px;
    pointer-events: none;
    z-index: 0;
    border-radius: 50%;
    background: radial-gradient(
      circle at 50% 50%,
      rgba(255, 215, 0, 0.85) 0%,
      rgba(255, 215, 0, 0.35) 35%,
      rgba(255, 215, 0, 0.0) 70%
    );
    filter: blur(14px);
    opacity: 0.65;
    animation: neonPulse 2.8s ease-in-out infinite;
  }

  img {
    position: relative;
    z-index: 1;
    width: 120px; /* antes 150px */
    height: auto;
    display: block;
    filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.55));
    transition: transform 0.25s ease, filter 0.25s ease;

    &:hover {
      transform: scale(1.05);
      filter: drop-shadow(0 0 14px rgba(255, 215, 0, 0.9));
    }
  }
}

@keyframes neonPulse {
  0%   { transform: translateY(-50%) scale(0.96); opacity: 0.50; filter: blur(12px); }
  50%  { transform: translateY(-50%) scale(1.06); opacity: 0.88; filter: blur(18px); }
  100% { transform: translateY(-50%) scale(0.96); opacity: 0.50; filter: blur(12px); }
}

/* =================== NAVEGAÃ‡ÃƒO =================== */
.header__nav { margin-left: auto; }

.nav__list {
  display: flex;
  align-items: center;
  gap: 28px;
  margin: 0;
  padding: 0;
  list-style: none;
}

.nav__item {
  position: relative;
}

.nav__link {
  color: #fff;
  text-decoration: none;
  font-weight: 700;
  font-size: 1rem;
  position: relative;
  padding: 6px 2px;
  transition: color 0.25s ease;

  &::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: -4px;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, #ffb347, #ffd700, #ffb347);
    border-radius: 4px;
    box-shadow: 0 0 6px rgba(255, 215, 0, 0.8);
    transition: width 0.25s ease;
  }

  &:hover { color: #ffd700; }
  &:hover::after { width: 100%; }
}

.nav__link--cta { color: #ffd700; }

/* =================== SUBMENU PRODUTOS =================== */
.nav__item--has-sub {
  &:hover .nav__sub {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }
}

.nav__sub {
  position: absolute;
  top: calc(100% + 6px);
  left: 0;
  background: rgba(17, 17, 17, 0.96);
  padding: 10px 0;
  border-radius: 10px;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.55);
  opacity: 0;
  visibility: hidden;
  transform: translateY(10px);
  transition: opacity 0.25s ease, transform 0.25s ease, visibility 0.25s ease;
  min-width: 170px;
  z-index: 999;
}

/* animaÃ§Ã£o dos sublinks */
.nav__sublink {
  display: block;
  padding: 8px 16px;
  color: #fff;
  font-weight: 600;
  text-decoration: none;
  border-radius: 6px;
  transform: translateY(6px);
  opacity: 0;
  animation: fadeSlideIn 0.4s ease forwards;
  animation-delay: calc(var(--i, 0) * 0.08s);
  transition: background 0.2s ease, color 0.2s ease;

  &:hover {
    background: rgba(255, 215, 0, 0.15);
    color: #ffd700;
  }
}

@keyframes fadeSlideIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

/* =================== RESPONSIVO =================== */
@media (max-width: 920px) {
  body { padding-top: 80px; }

  .site-header { padding: 8px 20px; }

  .header__logo {
    &::before { width: 90px; height: 90px; left: -4px; }
    img { width: 90px; }
  }

  .nav__list { gap: 16px; }

  .nav__sub {
    position: static;
    opacity: 1;
    visibility: visible;
    transform: none;
    background: transparent;
    box-shadow: none;
    padding: 0;
  }

  .nav__sublink {
    opacity: 1;
    transform: none;
    animation: none;
  }
}
